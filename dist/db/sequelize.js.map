{"version":3,"sources":["../../src/db/sequelize.js"],"names":["sequelize","Sequelize","logging","dialect","storage","process","cwd","game","player","guess","hasMany","foreignKey","name","field","allowNull","as","hooks","sync","force","then","console","log","module","exports"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAEA,MAAMA,YAAY,IAAIC,mBAAJ,CACjB,UADiB,EAEjB,IAFiB,EAGjB,IAHiB,EAIjB;AACG;AACAC,UAAS,KAFZ;AAGCC,UAAS,QAHV;AAIC;AACA;AACA;AACA;AACAC,UAAU,GAAEC,QAAQC,GAAR,EAAc;AAR3B,CAJiB,CAAlB;;AAgBA,MAAMC,OAAO,oBAAUP,SAAV,EAAqBC,mBAArB,CAAb;AACA,MAAMO,SAAS,sBAAYR,SAAZ,EAAuBC,mBAAvB,CAAf;AACA,MAAMQ,QAAQ,qBAAWT,SAAX,EAAsBC,mBAAtB,CAAd;;AAEAM,KAAKG,OAAL,CACCF,MADD,EAEC;AACCG,aAAY;AACXC,QAAM,QADK;AAEXC,SAAO,QAFI;AAGXC,aAAW;AAHA,EADb;AAMCC,KAAI,SANL;AAOCC,QAAO;AAPR,CAFD;;AAaAR,OAAOE,OAAP,CACCD,KADD,EAEC;AACCE,aAAY;AACXC,QAAM,UADK;AAEXC,SAAO,UAFI;AAGXC,aAAW;AAHA,EADb;AAMCC,KAAI;AANL,CAFD;AAWA;AACAf,UAAUiB,IAAV,CAAe,EAACC,OAAO,KAAR,EAAf,EACGC,IADH,CACQ,MAAM;AACVC,SAAQC,GAAR,CAAa,4BAAb;AACD,CAHH;;AAKAC,OAAOC,OAAP,GAAiB;AACfvB,UADe;AAEfO,KAFe;AAGfC,OAHe;AAIfC;AAJe,CAAjB","file":"sequelize.js","sourcesContent":["import Sequelize from 'sequelize';\nimport GameModel from '../models/game';\nimport PlayerModel from '../models/player';\nimport GuessModel from '../models/guess';\n\nconst sequelize = new Sequelize(\n\t'database',\n\tnull,\n\tnull,\n\t{  \n    // disable logging; default: console.log\n    logging: false,\n\t\tdialect: 'sqlite',\n\t\t// Data is stored in the file `database.sqlite` in the folder `db`.\n\t\t// Note that if you leave your app public, this database\n\t\t// file will be copied if\n\t\t// someone forks your app. So don't use it to store sensitive information.\n\t\tstorage: `${process.cwd()}/src/db/database.sqlite`,\n\t}\n);\n\nconst game = GameModel(sequelize, Sequelize);\nconst player = PlayerModel(sequelize, Sequelize);\nconst guess = GuessModel(sequelize, Sequelize);\n\ngame.hasMany(\n\tplayer, \n\t{\n\t\tforeignKey: {\n\t\t\tname: 'gameId',\n\t\t\tfield: 'gameId',\n\t\t\tallowNull: false,\n\t\t},\n\t\tas: 'players',\n\t\thooks: true,\n\t},\n);\n\t\nplayer.hasMany(\n\tguess, \n\t{\n\t\tforeignKey: {\n\t\t\tname: 'playerId',\n\t\t\tfield: 'playerId',\n\t\t\tallowNull: false,\n\t\t},\n\t\tas: 'guesses',\n\t},\n);\n// edit the following force: false to true to reset db on each time you run the application.\nsequelize.sync({force: false})\n  .then(() => {\n    console.log(`Database & tables created!`)\n  })\n\nmodule.exports = {\n  sequelize,\n  game,\n  player,\n  guess,\n}"]}